# C# YAML/GZ Import Export Of OpenPetra

The OpenPetra is a C# application that provides administrative management capabilities for non-profit organizations. The program handles financial transactions and contact management across multiple currencies and regions. This sub-project implements database backup and restoration functionality using compressed YAML files, providing a command-line interface for database operations. This provides these capabilities to the OpenPetra program:

- Database export to compressed YAML (.yml.gz) files
- Database import/restoration from compressed YAML files
- Command-line interface for automation and scripting
- Integration with OpenPetra's server connection infrastructure

## Identified Design Elements

1. Command-Line Interface: Processes arguments to determine operation mode (dump/load) and target file paths
2. Environment Initialization: Sets up the necessary application environment for database operations
3. Server Connection Management: Handles connections to the OpenPetra database server
4. Compression Integration: Implements GZip compression to reduce backup file sizes
5. Web Connector Integration: Coordinates with TImportExportWebConnector for actual data operations

## Overview
The architecture follows a straightforward command-line utility pattern, focusing on two primary operations: database export (DumpYmlGz) and import (LoadYmlGz). The tool initializes the application environment, establishes server connections, and delegates the actual data operations to the TImportExportWebConnector. This design allows for easy integration with automated backup systems and provides a reliable method for database migration and backup in OpenPetra deployments. The compressed YAML format balances human readability with efficient storage.

## Business Functions

### Database Management
- `main.cs` : Command-line tool for importing and exporting OpenPetra databases using compressed YAML files.

## Files
### main.cs

TYmlGzImportExport implements a command-line utility for backing up and restoring OpenPetra databases using compressed YAML files. The tool provides two main functions: DumpYmlGz for exporting database tables to a .yml.gz file and LoadYmlGz for importing data from these files. The Main method processes command-line arguments to determine the action (dump/load) and target file. It initializes the application environment, handles server connections, and executes the requested operation. Key methods include DumpYmlGz(), LoadYmlGz(), and Main(), which coordinate with TImportExportWebConnector to perform the actual data operations.

 **Code Landmarks**
- `Line 44`: Uses Base64 encoding to handle binary data during export process
- `Line 60`: Implements validation checks for file existence and extension before attempting import
- `Line 107`: Initializes server environment with configuration parameters and error handling

[Generated by the Sage AI expert workbench: 2025-03-30 02:22:57  https://sage-tech.ai/workbench]: #