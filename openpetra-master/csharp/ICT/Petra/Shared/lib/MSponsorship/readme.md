## C# Shared Sponsorship Module Of OpenPetra

The OpenPetra Shared Sponsorship Module is a C# component that provides the data structures and business logic for managing sponsorship relationships between donors and recipients. The module integrates with OpenPetra's partner management and financial systems to create a comprehensive sponsorship tracking solution. This sub-project implements typed datasets for sponsorship data management along with the necessary relationships between partners, gifts, and custom sponsorship fields.

### Key Technical Features

- **Integrated Data Model**: Links partner records with financial transactions through typed datasets
- **Custom Field Support**: Extends standard partner records with sponsorship-specific attributes
- **Cross-Module Integration**: Connects partner management with recurring gift functionality
- **Search Optimization**: Provides specialized data structures for efficient sponsorship queries

### Identified Design Elements

1. **Typed Dataset Architecture**: Uses XML-defined typed datasets to create strongly-typed data access
2. **Relational Data Structure**: Maintains relationships between donors, sponsors, and recurring gifts
3. **Module Dependency Management**: Imports and extends data structures from Partner and Gift modules
4. **Custom Table Implementation**: Defines specialized tables like SearchResult that combine data from multiple sources

### Technical Implementation

The module is built around two primary typed datasets: SponsorshipTDS for core sponsorship data management and SponsorshipFindTDS for optimized search operations. These datasets create a bridge between partner information (p_partner, p_family) and financial transactions (a_recurring_gift_batch, a_recurring_gift_detail), enabling the system to track the complete lifecycle of sponsorship relationships while maintaining data integrity across the OpenPetra system.

## Business Functions

### Sponsorship Data Structure
- `data/Sponsorship.TypedDataSets.xml` : XML definition file for sponsorship-related typed datasets in OpenPetra.

## Files
### data/Sponsorship.TypedDataSets.xml

This XML file defines two typed datasets for the OpenPetra sponsorship module. SponsorshipTDS includes tables for partner data (p_partner, p_family, p_partner_comment, p_partner_reminder, p_type, p_partner_type) and financial data (a_recurring_gift_batch, a_recurring_gift, a_recurring_gift_detail) with custom fields for donor and sponsor information. SponsorshipFindTDS defines a SearchResult custom table that combines partner and person data with custom fields for donor and sponsor information. The file imports data structures from the Partner and Gift modules, creating a data structure that links donors, sponsors, and recurring gifts.

 **Code Landmarks**
- `Line 10-15`: Integrates partner data tables with financial tables to create a comprehensive sponsorship data structure
- `Line 16-24`: Extends the recurring gift detail table with custom fields for sponsor information, creating relationships between financial transactions and partner data

[Generated by the Sage AI expert workbench: 2025-03-30 02:22:57  https://sage-tech.ai/workbench]: #