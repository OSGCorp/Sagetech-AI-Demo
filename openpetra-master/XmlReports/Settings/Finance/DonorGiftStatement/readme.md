# XML Donor Gift Statement Report Subproject Of Petra

The Petra is a cross-platform application that helps non-profit organizations manage their administrative and financial operations. The program processes donor information and generates standardized financial reports for accounting and compliance purposes. This sub-project implements XML-based configuration for donor gift statement reports along with parameterized report generation capabilities. This provides these capabilities to the Petra program:

- Configurable report formats (Complete and Total views)
- Customizable column definitions with width specifications
- Flexible donor and recipient filtering options
- Multi-currency support with formatting controls
- Motivation-based gift filtering and categorization

## Identified Design Elements

1. **Declarative Report Configuration**: XML files define report structure, columns, and calculation methods without requiring code changes
2. **Parameterized Filtering**: Support for selection criteria including donor ranges, date ranges, and motivation filters
3. **Multi-format Output Support**: Configurable display options for different reporting needs (detailed vs. summary views)
4. **Hierarchical Data Organization**: Structured approach to organizing donor, recipient, and gift information
5. **Calculation Framework**: Built-in support for various calculation types (sums, counts) across different time periods

## Overview
The architecture follows a configuration-driven approach where report definitions are externalized in XML files. The "Complete" format provides detailed transaction-level reporting with recipient details, while the "Total" format offers summarized views with monthly and yearly aggregations. The system supports flexible filtering options and maintains consistent formatting through declarative configuration. This design allows for easy customization of reports without modifying application code, supporting both detailed operational needs and summary financial reporting requirements.

## Business Functions

### Report Configuration
- `standard Complete.xml` : XML configuration file for Donor Gift Statement report settings in OpenPetra's finance module.
- `standard Total.xml` : XML configuration file for donor gift statement report with total calculations across multiple years.

## Files
### standard Complete.xml

This XML file defines parameters for the Donor Gift Statement report in OpenPetra's finance module. It configures report settings including report type (Complete), donor selection (One Donor), amount range, currency format, and motivation filters. The file specifies eight display columns with their respective widths and calculations, including Recipient Name, Field, Motivation Detail, Gift Date, Receipt, Gift Type, Confidential, and Gift Amount. It also sets ordering preferences for donors and recipients, and includes parameters for XML file dependencies and system settings.

 **Code Landmarks**
- `Line 3-5`: Defines system settings and XML dependencies required for the report to function
- `Line 11-16`: Core filtering parameters that determine which gifts appear in the statement
- `Line 17-40`: Column configuration with dynamic width settings using both integer and decimal precision values
### standard Total.xml

This XML configuration file defines parameters for the 'DonorGiftStatement' report in the 'Total' format. It specifies system settings, XML dependencies, and report configuration including donor selection criteria, amount ranges, currency settings, and motivation filters. The file configures nine display columns showing monthly and yearly calculations with counts for the current year and three previous years. Each column has defined widths and calculation types. Additional parameters control currency formatting, donor ordering, and recipient sorting options.

 **Code Landmarks**
- `Line 3-5`: References external XML files that contain shared report definitions and settings
- `Line 12-16`: Defines filtering parameters for donor gift statements including amount ranges and motivation categories
- `Line 17-29`: Configures first five columns with different calculation types (Month, Year-0, Count-0, Year-1, Count-1)
- `Line 36-43`: Extends report with historical data columns for previous years (Year-2, Count-2, Year-3, Count-3)

[Generated by the Sage AI expert workbench: 2025-03-30 02:22:57  https://sage-tech.ai/workbench]: #