# XML Balance Sheet Multi Ledger Report of OpenPetra

The XML Balance Sheet Multi Ledger Report is a specialized reporting component within OpenPetra that enables financial comparison across multiple ledgers. This subproject implements configurable balance sheet generation with variance analysis capabilities, providing essential financial insights for non-profit organizations.

The report is primarily driven by XML configuration that defines the structure, data sources, and presentation format of balance sheet reports. Key technical aspects include:

- Parameterized ledger selection for financial data extraction
- Multi-column report generation with configurable data sources
- Automated variance calculations between ledger values
- Percentage-based comparative analysis
- Hierarchical account structure representation
- Customizable report depth and cost center filtering

## Identified Design Elements

1. **XML-Driven Configuration**: The entire report structure and behavior is defined through declarative XML, allowing for flexible customization without code changes
2. **Multi-Ledger Data Integration**: The system can extract and compare financial data across different ledgers (e.g., ledger 29 and 2)
3. **Dynamic Calculation Engine**: Implements variance calculations and percentage differences between ledger values
4. **Hierarchical Data Representation**: Supports multi-level account structures with configurable display depth
5. **Formatting Controls**: Provides currency formatting and presentation options for financial data display

## Architecture Overview
The implementation follows a configuration-first approach where report behavior is externalized in XML. This design enables non-technical users to modify report parameters while maintaining consistent calculation logic and presentation standards. The architecture separates data extraction, calculation logic, and presentation concerns, making the system maintainable and extensible for future reporting requirements.

## Business Functions

### Report Configuration
- `standard.xml` : Configuration file for a multi-ledger balance sheet report in OpenPetra's XML reporting system.

## Files
### standard.xml

This XML configuration file defines parameters for a Balance Sheet report that compares multiple ledgers. It specifies system settings, XML source files, and report configuration options including currency format, account hierarchy, and display settings. The file configures four columns: two for actual values from different ledgers (29 and 2), one for variance calculation between them, and one for percentage variance. Additional parameters control report depth, cost center options, and presentation format. These settings determine how financial data is retrieved, calculated, and presented in the final balance sheet report.

 **Code Landmarks**
- `Line 4`: References external XML files that contain the actual report definition and structure
- `Line 7`: Limits display columns to 4, controlling report layout
- `Line 16-23`: Configures column-specific parameters using column attribute to create multi-ledger comparison
- `Line 18-19`: Variance calculation references specific columns by index using FirstColumn and SecondColumn parameters

[Generated by the Sage AI expert workbench: 2025-03-30 02:22:57  https://sage-tech.ai/workbench]: #