# Customer Account EJB Components Of Java Pet Store

The Java Pet Store is a Java EE application that demonstrates enterprise application architecture and best practices using the J2EE 1.3 platform. This sub-project implements the customer account management functionality through Enterprise JavaBeans (EJB), providing authentication and authorization capabilities. The Customer Account EJB Components deliver these core capabilities to the Java Pet Store application:

- Entity-based persistence for customer account data
- Relationship management between accounts and associated information
- Status management for customer accounts (Active/Disabled)
- Integration with contact and payment information

## Identified Design Elements

1. Container-Managed Persistence (CMP): Utilizes J2EE's built-in persistence mechanism to handle account data storage and retrieval
2. Container-Managed Relationships (CMR): Maintains relationships between Account entities and associated ContactInfo and CreditCard entities
3. Local EJB Interfaces: Implements the EJB local component model for efficient in-container access
4. Stateful Entity Representation: Accounts maintain status information (Active/Disabled) to control authentication capabilities

## Overview
The architecture follows the standard EJB entity bean pattern with clear separation between interface and implementation. The AccountEJB class provides the concrete implementation while AccountLocal and AccountLocalHome interfaces define the component contract. This design enables the application to manage customer authentication state while maintaining relationships with customer profile data and payment information. The components are designed for maintainability with well-defined lifecycle methods and relationship management capabilities.

## Business Functions

### Account Management
- `AccountLocalHome.java` : Local home interface for Account EJB defining creation and finder methods in the customer component.
- `AccountLocal.java` : Local EJB interface for customer account management in Java Pet Store.
- `AccountEJB.java` : Entity bean implementation for managing customer account data in the Java Pet Store application.

## Files
### AccountEJB.java

AccountEJB implements an entity bean that manages customer account data in the Java Pet Store application. It provides Container-Managed Persistence (CMP) for account status and Container-Managed Relationships (CMR) with ContactInfoLocal and CreditCardLocal entities. The class defines abstract getter/setter methods for CMP fields, implements two ejbCreate methods with corresponding ejbPostCreate methods for account creation with different parameters, and includes standard EntityBean lifecycle methods. Key functionality includes creating accounts with associated contact information and credit card details through EJB relationships.

 **Code Landmarks**
- `Line 74`: Uses Container-Managed Relationships (CMR) to establish relationships with ContactInfo and CreditCard entities
- `Line 85`: Implements two different creation paths - one requiring pre-existing related entities and another that creates them
- `Line 93`: JNDI lookups in ejbPostCreate method to create related entities when not provided
### AccountLocal.java

AccountLocal interface defines a local EJB interface for customer account management in the Java Pet Store application. It extends javax.ejb.EJBLocalObject and provides methods to access and modify account information. The interface includes methods for managing account status, credit card information, and contact details. Key methods include getStatus(), setStatus(), getCreditCard(), setCreditCard(), getContactInfo(), and setContactInfo(), which allow interaction with associated CreditCardLocal and ContactInfoLocal EJB components.

 **Code Landmarks**
- `Line 41`: Uses EJB local interfaces (introduced in EJB 2.0) for efficient in-container communication
### AccountLocalHome.java

AccountLocalHome interface defines the local home interface for the Account EJB in the customer account component. It extends javax.ejb.EJBLocalHome and provides methods for creating and finding Account entities. The interface declares two status constants (Active and Disabled) and two create methods: one that takes only a status parameter and another that additionally accepts ContactInfoLocal and CreditCardLocal objects. It also includes a standard findByPrimaryKey method for retrieving Account entities by their primary key.

 **Code Landmarks**
- `Line 46`: The interface defines status constants (Active, Disabled) directly in the interface rather than in an enum or separate constants class

[Generated by the Sage AI expert workbench: 2025-03-29 21:37:00  https://sage-tech.ai/workbench]: #