# WAF Controller Utilities Of Java Pet Store

The Java Pet Store is a Java program that demonstrates J2EE best practices through a functional e-commerce application. The program implements enterprise patterns and showcases cross-platform capabilities. This sub-project implements internationalization support and JNDI integration along with controller utility functions. This provides these capabilities to the Java Pet Store program:

- Internationalization and localization services
- Consistent JNDI naming conventions
- Currency and number formatting with locale-specific patterns
- Service discovery through standardized JNDI lookups

## Identified Design Elements

1. Manages Responses In Both JSON and HTML Format: The base controller class implements an API to allow the requestor to receive the results of the request in either format
2. Complex Request Chaining: More complex requests can be composed of simple atomic elements defined in the widgets folder
3. Automated Form Field Typing: Through introspection of the target data class, the form input controllers are able to validate input types match the intended data format
4. View Chaining: Sub-views do not need to re-query parent data objects, as they are encoded and passed into the chained request

## Overview
The architecture emphasizes DRY principles through partial reuse, maintains consistent styling via Bootstrap integration, and provides comprehensive format support for both traditional web and API consumers. The templates are designed for maintainability and extensibility, with clear separation of concerns and robust error handling.

## Business Functions

### Internationalization Utilities
- `I18nUtil.java` : Utility class providing internationalization functions for formatting and parsing in locale-specific ways.

### JNDI Configuration
- `JNDINames.java` : Defines JNDI name constants for accessing EJB components in the WAF framework.

## Files
### I18nUtil.java

I18nUtil implements a utility class for internationalization operations in the Web Application Framework. It provides methods for currency and number formatting with locale-specific patterns, Japanese character encoding conversion, keyword parsing from strings using locale-aware word boundaries, and locale object creation from string representations. Key methods include convertJISEncoding(), formatCurrency(), formatNumber(), parseKeywords(), and getLocaleFromString(). The class handles precision control for numeric displays and supports word boundary detection across different languages, making it essential for multilingual application support.

 **Code Landmarks**
- `Line 54`: Converts Japanese character encodings (SJIS/JIS) to Unicode strings with proper encoding detection
- `Line 76`: Implements locale-specific currency formatting with custom precision and pattern control
- `Line 112`: Uses BreakIterator for locale-aware word boundary detection when parsing keywords
- `Line 156`: Parses locale strings in language_country_variant format to create Locale objects
### JNDINames.java

JNDINames is a utility class that centralizes JNDI name constants used throughout the Web Application Framework (WAF). It provides static final String constants for accessing various enterprise components via JNDI lookups. The class includes constants for the EJB controller home interface, component manager, and default web controller. A private constructor prevents instantiation of this utility class. These constants ensure consistent JNDI naming across the application and must be synchronized with deployment descriptors when modified.

 **Code Landmarks**
- `Line 45`: Private constructor prevents instantiation of this utility class, enforcing its static-only usage pattern
- `Line 48-49`: Constants use the java:comp/env/ namespace prefix, following J2EE best practices for portable JNDI lookups

[Generated by the Sage AI expert workbench: 2025-03-29 21:37:00  https://sage-tech.ai/workbench]: #